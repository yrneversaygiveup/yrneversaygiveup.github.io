<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>雨夜</title><meta name="author" content="YRain"><meta name="copyright" content="YRain"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="referrer" content="no-referrer"><meta name="description" content="别被大雨湿了心">
<meta property="og:type" content="website">
<meta property="og:title" content="雨夜">
<meta property="og:url" content="http://yrain11.com/page/2/index.html">
<meta property="og:site_name" content="雨夜">
<meta property="og:description" content="别被大雨湿了心">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://yrain11.com/img/xier.jpg">
<meta property="article:author" content="YRain">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://yrain11.com/img/xier.jpg"><link rel="shortcut icon" href="/img/fav.png"><link rel="canonical" href="http://yrain11.com/page/2/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","languages":{"hits_empty":"找不到您查询的内容：${query}","hits_stats":"共找到 ${hits} 篇文章"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: undefined,
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '雨夜',
  isPost: false,
  isHome: true,
  isHighlightShrink: false,
  isToc: false,
  postUpdate: '2023-09-10 00:35:36'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/metingjs/dist/Meting.min.js"></script><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
    win.getCSS = (url,id = false) => new Promise((resolve, reject) => {
      const link = document.createElement('link')
      link.rel = 'stylesheet'
      link.href = url
      if (id) link.id = id
      link.onerror = reject
      link.onload = link.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        link.onload = link.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(link)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><link rel="stylesheet" href="APlayer.min.css"><div id="aplayer"></div><script src="https://cdn.jsdelivr.net/npm/meting@2/dist/Meting.min.js" async></script><meta name="generator" content="Hexo 6.3.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/img/xier.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">40</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">15</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">11</div></a></div><hr class="custom-hr"/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fa fa-graduation-cap"></i><span> 博文</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/categories/"><i class="fa-fw fa fa-archive"></i><span> 分类</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></li><li><a class="site-page child" href="/archives/"><i class="fa-fw fa fa-folder-open"></i><span> 归档</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 生活</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/shuoshuo/"><i class="fa-fw fa fa-comments-o"></i><span> 分享</span></a></li><li><a class="site-page child" href="/photos/"><i class="fa-fw fa fa-camera-retro"></i><span> 相册</span></a></li><li><a class="site-page child" href="/music/"><i class="fa-fw fa fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 影视</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/links/"><i class="fa-fw fa fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/comment/"><i class="fa-fw fa fa-paper-plane"></i><span> 留言板</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于笔者</span></a></div></div></div></div><div class="page" id="body-wrap"><header class="full_page" id="page-header" style="background-image: url('/img/SYNCEDoff-Planet.jpg')"><nav id="nav"><span id="blog-info"><a href="/" title="雨夜"><span class="site-name">雨夜</span></a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search" href="javascript:void(0);"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fa fa-graduation-cap"></i><span> 博文</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/categories/"><i class="fa-fw fa fa-archive"></i><span> 分类</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></li><li><a class="site-page child" href="/archives/"><i class="fa-fw fa fa-folder-open"></i><span> 归档</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 生活</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/shuoshuo/"><i class="fa-fw fa fa-comments-o"></i><span> 分享</span></a></li><li><a class="site-page child" href="/photos/"><i class="fa-fw fa fa-camera-retro"></i><span> 相册</span></a></li><li><a class="site-page child" href="/music/"><i class="fa-fw fa fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 影视</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/links/"><i class="fa-fw fa fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/comment/"><i class="fa-fw fa fa-paper-plane"></i><span> 留言板</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于笔者</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="site-info"><h1 id="site-title">雨夜</h1><div id="site-subtitle"><span id="subtitle"></span></div></div><div id="scroll-down"><i class="fas fa-angle-down scroll-down-effects"></i></div></header><main class="layout" id="content-inner"><div class="recent-posts" id="recent-posts"><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2023/09/09/%E5%85%A5%E9%97%A8%E7%B2%BE%E8%A6%81%E5%AD%A6%E4%B9%A0/%E7%AC%AC%E4%BA%94%E7%AB%A0%EF%BC%9Aunityshader%E5%9F%BA%E7%A1%80/Debug/" title="Debug">Debug</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2023-09-09T01:15:35.000Z" title="发表于 2023-09-09 09:15:35">2023-09-09</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/unity-shader-%E5%85%A5%E9%97%A8%E7%B2%BE%E8%A6%81%E6%80%BB%E7%BB%93/">unity shader 入门精要总结</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/unity-shader-%E5%85%A5%E9%97%A8%E7%B2%BE%E8%A6%81%E6%80%BB%E7%BB%93/%E7%AC%AC%E4%BA%94%E7%AB%A0/">第五章</a></span></div><div class="content">使用假彩色图像主要思想：把需要调试的变量映射到0-1，作为颜色输出到屏幕


使用VSGraphics Debugger
帧调试器（Frame Debugger）window-frame debugger
</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2023/09/09/%E5%85%A5%E9%97%A8%E7%B2%BE%E8%A6%81%E5%AD%A6%E4%B9%A0/%E7%AC%AC%E4%BA%94%E7%AB%A0%EF%BC%9Aunityshader%E5%9F%BA%E7%A1%80/Unity%E5%86%85%E7%BD%AE%E6%96%87%E4%BB%B6%E5%92%8C%E5%8F%98%E9%87%8F/" title="Unity内置文件和变量">Unity内置文件和变量</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2023-09-09T01:15:35.000Z" title="发表于 2023-09-09 09:15:35">2023-09-09</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/unity-shader-%E5%85%A5%E9%97%A8%E7%B2%BE%E8%A6%81%E6%80%BB%E7%BB%93/">unity shader 入门精要总结</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/unity-shader-%E5%85%A5%E9%97%A8%E7%B2%BE%E8%A6%81%E6%80%BB%E7%BB%93/%E7%AC%AC%E4%BA%94%E7%AB%A0/">第五章</a></span></div><div class="content">内置文件
后缀为.cginc
路径：安装位置&#x2F;Data&#x2F;CGIncludes




文件名
描述



UnityCG.cginc
包含最常使用的帮助函数、宏和结构体


UnityShaderVariables.cginc
编译时会自动包含，包括许多内置的全局变量，比如UNITY_MATRIX_MVP


Lighting.cginc
包含内置光照模型，编写surface shader会自动包含


HLSLSupport.cginc
编译时会自动包含，生命很多跨平台的宏和定义



UnityCG.cginc常用结构体



名称
描述
包含的变量



appdata_base
顶点着色器输入
顶点位置，法线，第一组纹理坐标


appdata_tan
顶点着色器输入
顶点位置，法线，切线，第一组纹理坐标


appdata_full
顶点着色器输入
顶点位置，法线，切线，四组纹理坐标


appdata_img
顶点着色器输入
顶点位置，第一组纹理坐标


v2f_img
顶点着色器输出
裁剪空间位置，texcoord0纹理坐标



UnityCG.cg ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2023/09/09/%E5%85%A5%E9%97%A8%E7%B2%BE%E8%A6%81%E5%AD%A6%E4%B9%A0/%E7%AC%AC%E4%BA%94%E7%AB%A0%EF%BC%9Aunityshader%E5%9F%BA%E7%A1%80/shader%E7%BC%96%E5%86%99%E8%A7%84%E8%8C%83/" title="shader编写规范">shader编写规范</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2023-09-09T01:15:35.000Z" title="发表于 2023-09-09 09:15:35">2023-09-09</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/unity-shader-%E5%85%A5%E9%97%A8%E7%B2%BE%E8%A6%81%E6%80%BB%E7%BB%93/">unity shader 入门精要总结</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/unity-shader-%E5%85%A5%E9%97%A8%E7%B2%BE%E8%A6%81%E6%80%BB%E7%BB%93/%E7%AC%AC%E4%BA%94%E7%AB%A0/">第五章</a></span></div><div class="content">float half fixed


类型
精度



float
最高精度浮点值，32位


half
中等精度，16位，-60000~+60000


fixed
最低精度，11位，-2.0~+2.0



不同的值请选择不同的精度类型，减少内存的消耗

避免不必要的计算
不同的Shader Target,不同的着色器阶段，可以使用的临时寄存器和指令数目是不同的。




指令
描述



#pragma target 2.0（Direct3D  Shader Model 2.0）
默认等级，不支持顶点纹理采样，不支持显示的LOD纹理采样


#pragma target 3.0（Direct3D  Shader Model 3.0）
支持顶点纹理采样


#pragma target 4.0（Direct3D  Shader Model 4.0）
支持几何着色器


#pragma target 5.0（Direct3D  Shader Model 5  .0）



慎用分支和循环语句
不鼓励在shader中使用流程控制语句，会降低GPU并行处理操作

如果大量使用，要把该使用 ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2023/09/09/%E5%85%A5%E9%97%A8%E7%B2%BE%E8%A6%81%E5%AD%A6%E4%B9%A0/%E7%AC%AC%E4%BA%94%E7%AB%A0%EF%BC%9Aunityshader%E5%9F%BA%E7%A1%80/unityshader%E7%BB%93%E6%9E%84/" title="UnityShader结构">UnityShader结构</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2023-09-09T01:15:35.000Z" title="发表于 2023-09-09 09:15:35">2023-09-09</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/unity-shader-%E5%85%A5%E9%97%A8%E7%B2%BE%E8%A6%81%E6%80%BB%E7%BB%93/">unity shader 入门精要总结</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/unity-shader-%E5%85%A5%E9%97%A8%E7%B2%BE%E8%A6%81%E6%80%BB%E7%BB%93/%E7%AC%AC%E4%BA%94%E7%AB%A0/">第五章</a></span></div><div class="content">第一个代码学习// Upgrade NOTE: replaced &#39;mul(UNITY_MATRIX_MVP,*)&#39; with &#39;UnityObjectToClipPos(*)&#39;

//开头引号内存放路径
Shader &quot;MyShader/BaseShader&quot;&#123;
    //属性栏
    Properties&#123;
        //声明一个Color类型属性
        _Color(&quot;Color Tint&quot;,Color)=(1.0,1.0,1.0,1.0)
    &#125;
    SubShader&#123;
        Pass&#123;
            CGPROGRAM
            //告诉unity定义了vert和frag：顶点和片元着色器
            #pragma vertex vert
            #pragma fragment frag

            //在Cg代码中需要定义一个与属性名称和类型都匹 ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2023/09/09/%E5%85%A5%E9%97%A8%E7%B2%BE%E8%A6%81%E5%AD%A6%E4%B9%A0/%E7%AC%AC%E4%BA%94%E7%AB%A0%EF%BC%9Aunityshader%E5%9F%BA%E7%A1%80/%E8%AF%AD%E4%B9%89/" title="语义">语义</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2023-09-09T01:15:35.000Z" title="发表于 2023-09-09 09:15:35">2023-09-09</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/unity-shader-%E5%85%A5%E9%97%A8%E7%B2%BE%E8%A6%81%E6%80%BB%E7%BB%93/">unity shader 入门精要总结</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/unity-shader-%E5%85%A5%E9%97%A8%E7%B2%BE%E8%A6%81%E6%80%BB%E7%BB%93/%E7%AC%AC%E4%BA%94%E7%AB%A0/">第五章</a></span></div><div class="content">什么是语义
语义是赋给shader输入和输出的字符串，即语义可以让shader知道从哪读取数据，并把数据输入到哪。
语义出现的位置 不同，含义也不同。

系统数值语义
以SV开头
不可以被随便赋值：需要完成特定的目的

Unity支持的语义a2v


语义
描述



POSITION
模型空间的顶点位置，通常是float4类型


NORMAL
顶点法线，float3


TANGENT
顶点切线，float4


TEXCOORDn
该顶点的纹理坐标，通常是float2或者float4


COLOR
顶点颜色，fixed4或者float4


v2f


语义
描述



SV_POSITION
裁剪空间的顶点坐标，必须被包含


COLOR0
输出第一组顶点颜色（不是必须）


COLOR1
输出第二组顶点颜色（不是必须）


TEXCOOORD0-7
输出纹理坐标，不是必须


OUT


语义
描述



SV_Target
会将输出值存储到渲染目标中。


</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2023/09/09/%E5%85%A5%E9%97%A8%E7%B2%BE%E8%A6%81%E5%AD%A6%E4%B9%A0/%E7%AC%AC%E5%85%AD%E7%AB%A0%EF%BC%9AUnity%E5%9F%BA%E7%A1%80%E5%85%89%E7%85%A7/%E5%85%89%E7%85%A7%E7%9F%A5%E8%AF%86/" title="光照知识">光照知识</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2023-09-09T01:15:35.000Z" title="发表于 2023-09-09 09:15:35">2023-09-09</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/unity-shader-%E5%85%A5%E9%97%A8%E7%B2%BE%E8%A6%81%E6%80%BB%E7%BB%93/">unity shader 入门精要总结</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/unity-shader-%E5%85%A5%E9%97%A8%E7%B2%BE%E8%A6%81%E6%80%BB%E7%BB%93/%E7%AC%AC%E5%85%AD%E7%AB%A0%EF%BC%9Aunity%E5%9F%BA%E7%A1%80%E5%85%89%E7%85%A7/">第六章：unity基础光照</a></span></div><div class="content">基础知识请优先学习计算机图形学，推荐老师：闫令琪
图像包含

光源
物体反射

光源
使用辐照度量化光

吸收和散射
散射：只改变光线方向，不改变光的密度和颜色
折射refraction或透射transmission：进入物体内部
反射reflection：散射到物体外部


吸收：只改变光的密度和颜色，不改变方向
从物体表面重新发射出的光线将具有和入射光线不同的方向分布和颜色
高光反射，漫反射，出射度exitance

着色指根据材质属性，光源信息用一个等式去计算某一个观察方向的出射度的过程。
等式：光照模型，不同的lighting model 可以描述不同的表面
BRDF用来解释当光线从某个方向照射到一个表面时，有多少光线被反射，反射的方向有哪些。
即给定入射光线的方向和辐照度，brdf可以给出某个出射方向上的光照能量分布。
</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2023/09/09/%E5%85%A5%E9%97%A8%E7%B2%BE%E8%A6%81%E5%AD%A6%E4%B9%A0/%E7%AC%AC%E5%85%AD%E7%AB%A0%EF%BC%9AUnity%E5%9F%BA%E7%A1%80%E5%85%89%E7%85%A7/%E6%A0%87%E5%87%86%E5%85%89%E7%85%A7%E6%A8%A1%E5%9E%8B/" title="标准光照模型">标准光照模型</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2023-09-09T01:15:35.000Z" title="发表于 2023-09-09 09:15:35">2023-09-09</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/unity-shader-%E5%85%A5%E9%97%A8%E7%B2%BE%E8%A6%81%E6%80%BB%E7%BB%93/">unity shader 入门精要总结</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/unity-shader-%E5%85%A5%E9%97%A8%E7%B2%BE%E8%A6%81%E6%80%BB%E7%BB%93/%E7%AC%AC%E5%85%AD%E7%AB%A0%EF%BC%9Aunity%E5%9F%BA%E7%A1%80%E5%85%89%E7%85%A7/">第六章：unity基础光照</a></span></div><div class="content">自发光，高光反射，漫反射，环境光环境光
使用环境光来近似模拟间接光照
$c_{ambined}&#x3D;g_{ambient}$

自发光
直接由光源发射入摄像机，直接使用材质的自发光颜色
$c_{emissive}&#x3D;m_{emissive}$
在实时渲染中，自发光的表面不会照亮周围（不会被当做光源）

漫反射
视角的位置不重要，在任何反射方向的分布都是一样的
入射光的角度很重要
符合兰伯特定律：反射光线的强度与表面法线和光源方向的夹角的余弦值成正比。
$c_{diffise}&#x3D;(c_{light}*m_{diffuse})·max(0,\hat{n}·\hat{l})$
n:法线，l:指向光源方向，c:光源颜色，m:物体漫反射颜色，max截取到0，防止被背面的光照亮。

高光反射Phong模型
用来计算完全镜面反射方向被反射的光线

$c_{specular}&#x3D;(c_{light}·m_{specular})·max(0,\hat{v}·\hat{r})^{m_{gloss}}$

mgloss是材质的光泽度，也叫反光度，用来控制高光区域的大小，值越大 ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2023/09/09/%E5%85%A5%E9%97%A8%E7%B2%BE%E8%A6%81%E5%AD%A6%E4%B9%A0/%E7%AC%AC%E5%85%AB%E7%AB%A0%EF%BC%9A%E9%80%8F%E6%98%8E%E6%95%88%E6%9E%9C/%E5%8F%8C%E9%9D%A2%E6%B8%B2%E6%9F%93%E7%9A%84%E9%80%8F%E6%98%8E%E6%95%88%E6%9E%9C/" title="双面渲染的透明效果">双面渲染的透明效果</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2023-09-09T01:15:35.000Z" title="发表于 2023-09-09 09:15:35">2023-09-09</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/unity-shader-%E5%85%A5%E9%97%A8%E7%B2%BE%E8%A6%81%E6%80%BB%E7%BB%93/">unity shader 入门精要总结</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/unity-shader-%E5%85%A5%E9%97%A8%E7%B2%BE%E8%A6%81%E6%80%BB%E7%BB%93/%E7%AC%AC%E5%85%AB%E7%AB%A0%EF%BC%9A%E9%80%8F%E6%98%8E%E6%95%88%E6%9E%9C/">第八章：透明效果</a></span></div><div class="content">使用Cull命令
Cull Back|Front|Off,不渲染背面|前面|关闭

透明度测试的双面渲染// Upgrade NOTE: replaced &#39;_Object2World&#39; with &#39;unity_ObjectToWorld&#39;
// Upgrade NOTE: replaced &#39;mul(UNITY_MATRIX_MVP,*)&#39; with &#39;UnityObjectToClipPos(*)&#39;

Shader &quot;Unity Shaders Book/Chapter 8/Alpha Test With Both Side&quot; &#123;
    Properties &#123;
        _Color (&quot;Color Tint&quot;, Color) = (1, 1, 1, 1)
        _MainTex (&quot;Main Tex&quot;, 2D) = &quot;white&quot; &#123;&#125;
        _Cutoff (&quo ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2023/09/09/%E5%85%A5%E9%97%A8%E7%B2%BE%E8%A6%81%E5%AD%A6%E4%B9%A0/%E7%AC%AC%E5%85%AD%E7%AB%A0%EF%BC%9AUnity%E5%9F%BA%E7%A1%80%E5%85%89%E7%85%A7/unity%E5%AE%9E%E7%8E%B0%E5%9F%BA%E7%A1%80%E5%85%89%E7%85%A7/" title="unity实现基础光照">unity实现基础光照</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2023-09-09T01:15:35.000Z" title="发表于 2023-09-09 09:15:35">2023-09-09</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/unity-shader-%E5%85%A5%E9%97%A8%E7%B2%BE%E8%A6%81%E6%80%BB%E7%BB%93/">unity shader 入门精要总结</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/unity-shader-%E5%85%A5%E9%97%A8%E7%B2%BE%E8%A6%81%E6%80%BB%E7%BB%93/%E7%AC%AC%E5%85%AD%E7%AB%A0%EF%BC%9Aunity%E5%9F%BA%E7%A1%80%E5%85%89%E7%85%A7/">第六章：unity基础光照</a></span></div><div class="content">环境光和自发光
实现漫反射光照顶点着色器中计算// Upgrade NOTE: replaced &#39;_World2Object&#39; with &#39;unity_WorldToObject&#39;

Shader &quot;MyShader/Chapter 6/diffuse&quot;&#123;
    Properties&#123;
        _Diffuese(&quot;Diffuse&quot;,Color)=(1,1,1,1)
    &#125;
    SubShader&#123;
        Pass&#123;
            //指定光照模式为向前渲染，定义正确的mode,才能得到内置光照变量
            Tags&#123;&quot;LightMode&quot;=&quot;ForwardBase&quot;&#125;
            CGPROGRAM

            #pragma vertex vert
            #pragma fragment frag

   ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2023/09/09/%E5%85%A5%E9%97%A8%E7%B2%BE%E8%A6%81%E5%AD%A6%E4%B9%A0/%E7%AC%AC%E5%85%AB%E7%AB%A0%EF%BC%9A%E9%80%8F%E6%98%8E%E6%95%88%E6%9E%9C/%E9%80%8F%E6%98%8E%E5%9F%BA%E7%A1%80/" title="透明基础">透明基础</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2023-09-09T01:15:35.000Z" title="发表于 2023-09-09 09:15:35">2023-09-09</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/unity-shader-%E5%85%A5%E9%97%A8%E7%B2%BE%E8%A6%81%E6%80%BB%E7%BB%93/">unity shader 入门精要总结</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/unity-shader-%E5%85%A5%E9%97%A8%E7%B2%BE%E8%A6%81%E6%80%BB%E7%BB%93/%E7%AC%AC%E5%85%AB%E7%AB%A0%EF%BC%9A%E9%80%8F%E6%98%8E%E6%95%88%E6%9E%9C/">第八章：透明效果</a></span></div><div class="content">unity实现透明
透明度测试
只要一个片元的透明度不满足，就被舍弃
不需要关闭深度写入


透明度混合
可以获得真正的半透明效果
需要关闭深度写入
深度缓冲是只读


关闭深度写入后，渲染顺序很重要
先渲染所有不透明物体，并开启深度测试和深度写入
把半透明物体按距离摄像机远近排序，按照从后向前的顺序渲染，开启深度测试的同时关闭深度写入。



unityshader渲染顺序
渲染队列（render queue）,使用SubShader的Queue标签觉得模型归于哪个渲染队列。

unity使用整数索引来表示渲染队列，索引越小越早渲染

unity提前定义的5个渲染队列



名称
索引号
描述



Background
1000
会在任何其他队列前被渲染，一般用来绘制背景上的物体


Geometry
2000
默认渲染队列。不透明物体使用该队列


AlphaTest
2450
透明度测试的队列，所有不透明物体渲染后再渲染该队列更加高效


Transparent
3000
在G和A队列渲染后，按从后往前的顺序渲染，使用了透明度混合的物体的队列


Overlay
4000
用于 ...</div></div></div><nav id="pagination"><div class="pagination"><a class="extend prev" rel="prev" href="/"><i class="fas fa-chevron-left fa-fw"></i></a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/#content-inner">3</a><a class="page-number" href="/page/4/#content-inner">4</a><a class="extend next" rel="next" href="/page/3/#content-inner"><i class="fas fa-chevron-right fa-fw"></i></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/img/xier.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">YRain</div><div class="author-info__description">别被大雨湿了心</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">40</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">15</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">11</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/xxxxxx"><i class="fab fa-github"></i><span>Follow Me</span></a></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2023/09/09/%E5%85%A5%E9%97%A8%E7%B2%BE%E8%A6%81%E5%AD%A6%E4%B9%A0/%E5%B8%B8%E7%94%A8%E5%87%BD%E6%95%B0%E6%8E%A5%E5%8F%A3/" title="常用函数接口">常用函数接口</a><time datetime="2023-09-09T01:15:35.000Z" title="发表于 2023-09-09 09:15:35">2023-09-09</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2023/09/09/%E5%85%A5%E9%97%A8%E7%B2%BE%E8%A6%81%E5%AD%A6%E4%B9%A0/%E7%AC%AC%E4%B9%9D%E7%AB%A0%EF%BC%9A%E6%9B%B4%E5%A4%8D%E6%9D%82%E5%85%89%E7%85%A7/Unity%E5%85%89%E6%BA%90%E7%B1%BB%E5%9E%8B/" title="Unity光源类型">Unity光源类型</a><time datetime="2023-09-09T01:15:35.000Z" title="发表于 2023-09-09 09:15:35">2023-09-09</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2023/09/09/%E5%85%A5%E9%97%A8%E7%B2%BE%E8%A6%81%E5%AD%A6%E4%B9%A0/%E7%AC%AC%E4%B9%9D%E7%AB%A0%EF%BC%9A%E6%9B%B4%E5%A4%8D%E6%9D%82%E5%85%89%E7%85%A7/Unity%E6%B8%B2%E6%9F%93%E8%B7%AF%E5%BE%84/" title="Unity渲染路径">Unity渲染路径</a><time datetime="2023-09-09T01:15:35.000Z" title="发表于 2023-09-09 09:15:35">2023-09-09</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2023/09/09/%E5%85%A5%E9%97%A8%E7%B2%BE%E8%A6%81%E5%AD%A6%E4%B9%A0/%E7%AC%AC%E4%B9%9D%E7%AB%A0%EF%BC%9A%E6%9B%B4%E5%A4%8D%E6%9D%82%E5%85%89%E7%85%A7/unity%E5%85%89%E7%85%A7%E8%A1%B0%E5%87%8F/" title="Unity光照衰减">Unity光照衰减</a><time datetime="2023-09-09T01:15:35.000Z" title="发表于 2023-09-09 09:15:35">2023-09-09</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2023/09/09/%E5%85%A5%E9%97%A8%E7%B2%BE%E8%A6%81%E5%AD%A6%E4%B9%A0/%E7%AC%AC%E4%B9%9D%E7%AB%A0%EF%BC%9A%E6%9B%B4%E5%A4%8D%E6%9D%82%E5%85%89%E7%85%A7/unity%E9%98%B4%E5%BD%B1/" title="Unity阴影">Unity阴影</a><time datetime="2023-09-09T01:15:35.000Z" title="发表于 2023-09-09 09:15:35">2023-09-09</time></div></div></div></div><div class="card-widget card-categories"><div class="item-headline">
            <i class="fas fa-folder-open"></i>
            <span>分类</span>
            <a class="card-more-btn" href="/categories/" title="查看更多">
    <i class="fas fa-angle-right"></i></a>
            </div>
            <ul class="card-category-list" id="aside-cat-list">
            <li class="card-category-list-item "><a class="card-category-list-link" href="/categories/unity-shader-%E5%85%A5%E9%97%A8%E7%B2%BE%E8%A6%81%E6%80%BB%E7%BB%93/"><span class="card-category-list-name">unity shader 入门精要总结</span><span class="card-category-list-count">39</span></a><ul class="card-category-list child"><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/unity-shader-%E5%85%A5%E9%97%A8%E7%B2%BE%E8%A6%81%E6%80%BB%E7%BB%93/%E7%AC%AC%E4%B8%83%E7%AB%A0%EF%BC%9A%E5%9F%BA%E7%A1%80%E7%BA%B9%E7%90%86/"><span class="card-category-list-name">第七章：基础纹理</span><span class="card-category-list-count">5</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/unity-shader-%E5%85%A5%E9%97%A8%E7%B2%BE%E8%A6%81%E6%80%BB%E7%BB%93/%E7%AC%AC%E4%B8%89%E7%AB%A0/"><span class="card-category-list-name">第三章</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/unity-shader-%E5%85%A5%E9%97%A8%E7%B2%BE%E8%A6%81%E6%80%BB%E7%BB%93/%E7%AC%AC%E4%B9%9D%E7%AB%A0%EF%BC%9A%E6%9B%B4%E5%A4%8D%E6%9D%82%E7%9A%84%E5%85%89%E7%85%A7/"><span class="card-category-list-name">第九章：更复杂的光照</span><span class="card-category-list-count">4</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/unity-shader-%E5%85%A5%E9%97%A8%E7%B2%BE%E8%A6%81%E6%80%BB%E7%BB%93/%E7%AC%AC%E4%BA%8C%E7%AB%A0/"><span class="card-category-list-name">第二章</span><span class="card-category-list-count">4</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/unity-shader-%E5%85%A5%E9%97%A8%E7%B2%BE%E8%A6%81%E6%80%BB%E7%BB%93/%E7%AC%AC%E4%BA%94%E7%AB%A0/"><span class="card-category-list-name">第五章</span><span class="card-category-list-count">6</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/unity-shader-%E5%85%A5%E9%97%A8%E7%B2%BE%E8%A6%81%E6%80%BB%E7%BB%93/%E7%AC%AC%E5%85%AB%E7%AB%A0%EF%BC%9A%E9%80%8F%E6%98%8E%E6%95%88%E6%9E%9C/"><span class="card-category-list-name">第八章：透明效果</span><span class="card-category-list-count">4</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/unity-shader-%E5%85%A5%E9%97%A8%E7%B2%BE%E8%A6%81%E6%80%BB%E7%BB%93/%E7%AC%AC%E5%85%AD%E7%AB%A0%EF%BC%9Aunity%E5%9F%BA%E7%A1%80%E5%85%89%E7%85%A7/"><span class="card-category-list-name">第六章：unity基础光照</span><span class="card-category-list-count">3</span></a></li></ul></li>
            </ul></div><div class="card-widget card-tags"><div class="item-headline"><i class="fas fa-tags"></i><span>标签</span></div><div class="card-tag-cloud"><a href="/tags/%E6%B8%B2%E6%9F%93%E8%B7%AF%E5%BE%84/" style="font-size: 1.1em; color: #999">渲染路径</a> <a href="/tags/shaderLab/" style="font-size: 1.1em; color: #999">shaderLab</a> <a href="/tags/%E5%8A%A8%E7%94%BB/" style="font-size: 1.18em; color: #999ca1">动画</a> <a href="/tags/%E9%98%B4%E5%BD%B1/" style="font-size: 1.1em; color: #999">阴影</a> <a href="/tags/ShaderLab/" style="font-size: 1.5em; color: #99a9bf">ShaderLab</a> <a href="/tags/hexo/" style="font-size: 1.1em; color: #999">hexo</a> <a href="/tags/%E6%B8%B2%E6%9F%93%E6%B5%81%E6%B0%B4%E7%BA%BF/" style="font-size: 1.26em; color: #999fa8">渲染流水线</a> <a href="/tags/%E5%B1%8F%E5%B9%95%E5%90%8E%E5%A4%84%E7%90%86/" style="font-size: 1.34em; color: #99a3b0">屏幕后处理</a> <a href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6/" style="font-size: 1.18em; color: #999ca1">计算机图形学</a> <a href="/tags/hlsl/" style="font-size: 1.1em; color: #999">hlsl</a> <a href="/tags/%E6%B8%B2%E6%9F%93%E5%B9%B3%E5%8F%B0%E5%B7%AE%E5%BC%82/" style="font-size: 1.1em; color: #999">渲染平台差异</a> <a href="/tags/%E7%BA%B9%E7%90%86/" style="font-size: 1.26em; color: #999fa8">纹理</a> <a href="/tags/unity/" style="font-size: 1.42em; color: #99a6b7">unity</a> <a href="/tags/%E5%85%89%E7%85%A7/" style="font-size: 1.18em; color: #999ca1">光照</a> <a href="/tags/%E9%80%8F%E6%98%8E%E6%95%88%E6%9E%9C/" style="font-size: 1.26em; color: #999fa8">透明效果</a></div></div><div class="card-widget card-archives"><div class="item-headline"><i class="fas fa-archive"></i><span>归档</span></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/09/"><span class="card-archive-list-date">九月 2023</span><span class="card-archive-list-count">40</span></a></li></ul></div><div class="card-widget card-webinfo"><div class="item-headline"><i class="fas fa-chart-line"></i><span>网站资讯</span></div><div class="webinfo"><div class="webinfo-item"><div class="item-name">文章数目 :</div><div class="item-count">40</div></div><div class="webinfo-item"><div class="item-name">本站访客数 :</div><div class="item-count" id="busuanzi_value_site_uv"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">本站总访问量 :</div><div class="item-count" id="busuanzi_value_site_pv"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">最后更新时间 :</div><div class="item-count" id="last-push-date" data-lastPushDate="2023-09-09T16:35:36.103Z"><i class="fa-solid fa-spinner fa-spin"></i></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2023 By YRain</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.umd.min.js"></script><div class="js-pjax"><script>window.typedJSFn = {
  init: (str) => {
    window.typed = new Typed('#subtitle', Object.assign({
      strings: str,
      startDelay: 300,
      typeSpeed: 150,
      loop: true,
      backSpeed: 50,
    }, ))
  },
  run: (subtitleType) => {
    if (true) {
      if (typeof Typed === 'function') {
        subtitleType()
      } else {
        getScript('https://cdn.jsdelivr.net/npm/typed.js/dist/typed.umd.min.js').then(subtitleType)
      }
    } else {
      subtitleType()
    }
  }
}
</script><script>function subtitleType () {
  if (true) {
    typedJSFn.init(["别说些没用的话","终究需要自己去走","孤独的是路，而不是心","记得打伞"])
  } else {
    document.getElementById("subtitle").textContent = "别说些没用的话"
  }
}
typedJSFn.run(subtitleType)</script></div><div class="aplayer no-destroy" data-id="000PeZCQ1i4XVs" data-server="tencent" data-type="artist" data-fixed="true" data-mini="true" data-listFolded="false" data-order="random" data-preload="none" data-autoplay="true" muted></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/metingjs/dist/Meting.min.js"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div class="no-result" id="local-search-results"></div><div id="local-search-stats-wrap"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js"></script></div></div></body></html>